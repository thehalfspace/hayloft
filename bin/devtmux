#!/usr/bin/env bash

# Usage: devtmux <session-name>
if [[ -z "$1" ]]; then
  echo "ğŸªš Usage: devtmux <name>"
  exit 1
fi

SESSION="$1"

# Create new session and window
tmux new-session -d -s "$SESSION" -n dev

# Left pane (60%): Editor
tmux send-keys -t "$SESSION:0.0" "echo 'ğŸ§º Left pane: Editing pane'" C-m

# Split right 40% vertical
tmux split-window -h -t "$SESSION:0" -p 40
tmux send-keys -t "$SESSION:0.1" "echo 'ğŸ“ Right top: Terminal pane'" C-m

# Split right pane (bottom half)
tmux split-window -v -t "$SESSION:0.1" -p 50
tmux send-keys -t "$SESSION:0.2" "echo 'ğŸ‘ Right bottom: REPL pane'" C-m

# Select the left (editor) pane by default
tmux select-pane -t "$SESSION:0.0"

# Attach to session
tmux attach-session -t "$SESSION"

